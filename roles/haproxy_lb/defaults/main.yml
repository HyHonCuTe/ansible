---
# defaults file for haproxy

# HAProxy version
haproxy_version: "2.8"

# HAProxy configuration
haproxy_listen_port: 80
haproxy_stats_port: 8080
haproxy_stats_user: admin
haproxy_stats_password: admin123

# Load balancing algorithm
# Options: roundrobin, leastconn, source, uri
haproxy_balance_algorithm: roundrobin

# Backend servers (will be populated from inventory)
haproxy_backend_servers:
  - name: web1
    ip: 192.168.1.27
    port: 80
  - name: web2
    ip: 192.168.1.30
    port: 80

# Health check configuration
haproxy_check_interval: 3000  # milliseconds
haproxy_check_rise: 2
haproxy_check_fall: 3

# Connection limits
haproxy_max_connections: 4000
haproxy_timeout_connect: 5s
haproxy_timeout_client: 50s
haproxy_timeout_server: 50s

# Logging
haproxy_log_level: info
haproxy_enable_stats: true

# Firewall configuration
firewall_enabled: true
haproxy_firewall_ports:
  - 80/tcp
  - 8080/tcp
